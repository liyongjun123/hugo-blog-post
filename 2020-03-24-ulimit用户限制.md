---
title: "ulimitç”¨æˆ·é™åˆ¶"
date: 2020-03-24T16:17:52+08:00
draft: false
categories: ["C"]
tags: ["ç»éªŒ"]
url: "/2020/03/24/ulimit.html"
---

## # æ’¸ç 

ä»Šå¤©ç ”ç©¶ç®—æ³•æ—¶éœ€è¦ç”¨åˆ°ä¸€ä¸ªå¾ˆå¤§çš„æ•°ç»„ï¼Œä»£ç å¦‚ä¸‹ï¼š

```c
#include <stdio.h>
#include <stdlib.h>
#include <stdint.h>

int main(int argc, char *argv[])
{
    uint16_t list[100000000] = {0};
    printf("OK\n");

    return EXIT_SUCCESS;
}
```

æ•°ç»„å¤§å°ä¸º 2å­—èŠ‚ * 100,000,000 â‰ˆ 200Må­—èŠ‚

## # è¿è¡ŒæŠ¥é”™

è¿è¡Œ

```shell
liyongjun@Box:~/project/my/c/study$ ./stack.out 
æ®µé”™è¯¯ (æ ¸å¿ƒå·²è½¬å‚¨)
```

ğŸ˜°

## # æ‰¾é—®é¢˜

```shell
liyongjun@Box:~/project/my/c/study$ free -h
              total        used        free      shared  buff/cache   available
Mem:           7.8G        2.2G        1.4G         46M        4.2G        5.2G
Swap:          974M        268K        974M
```

å‰©ä½™å†…å­˜å¤Ÿç”¨ã€‚éš¾é“æ˜¯å› ä¸ºå‰©ä½™å†…å­˜æ€»é‡å¤Ÿï¼Œä½†ä¸æ˜¯è¿ç»­çš„ï¼Œæ²¡åŠæ³•åˆ†é…ä¸€ä¸ª200Mçš„è¿ç»­å†…å­˜ç©ºé—´ï¼Ÿ

ç½‘ä¸Šæœç´¢linux Cè¯­è¨€å†…å­˜ç”³è¯·é™åˆ¶ï¼Œæœ€ç»ˆç¡®å®šé—®é¢˜åŸå› ï¼šlinux Cç¨‹åºç”³è¯·å †æ ˆç©ºé—´å—ulimit -så‚æ•°é™åˆ¶ï¼Œä¸€èˆ¬é»˜è®¤ä¸º8192Kbytes

```shell
liyongjun@Box:~/project/my/c/study$ ulimit -a
core file size          (blocks, -c) 0
data seg size           (kbytes, -d) unlimited
scheduling priority             (-e) 0
file size               (blocks, -f) unlimited
pending signals                 (-i) 31666
max locked memory       (kbytes, -l) 64
max memory size         (kbytes, -m) unlimited
open files                      (-n) 8192
pipe size            (512 bytes, -p) 8
POSIX message queues     (bytes, -q) 819200
real-time priority              (-r) 0
stack size              (kbytes, -s) 8192
cpu time               (seconds, -t) unlimited
max user processes              (-u) 31666
virtual memory          (kbytes, -v) unlimited
file locks                      (-x) unlimited
liyongjun@Box:~/project/my/c/study$ ulimit -s
8192
```

## # è§£å†³

å°†å †æ ˆç©ºé—´é™åˆ¶å¢åŠ åˆ°200,000Kbytesï¼Œç¨‹åºæˆåŠŸè¿è¡Œ

```shell
liyongjun@Box:~/project/my/c/study$ ulimit -s 200000
liyongjun@Box:~/project/my/c/study$ ./stack.out 
OK
```

ğŸ˜„