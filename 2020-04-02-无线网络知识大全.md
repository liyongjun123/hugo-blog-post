---
title: "无线网络知识大全"
date: 2020-04-02T19:45:20+08:00
draft: false
categories: ["技术"]
tags: ["经验"]
url: "/2020/04/02/wlan-knowledge.html"
---

# 台上

### 什么是Wi-Fi？

Wi-Fi是一个商标，由Wi-Fi联盟持有。  
Wi-Fi是一项技术，能够让电子设备连接到一个无线局域网。

### Wi-Fi 与 802.11

802.11是一种标准，Wi-Fi是基于此标准的一种具体实现。

### 802.11 与 WLAN

WLAN是一个概念，用来阐述无线局域网，802.11是此概念下的一种具体协议标准。

### 信道、信源、信宿

信道指通信的通道，是信号传输的媒介。  
二人对话，声波通过空气来传送，二人之间的空气就是信道。  
邮政通信的信道是指运载工具及其经过的设施。  
无线电话的信道就是电波传播所通过的空间。  
有线电话的信道是电缆。  
每条信道都有特定的信源和信宿。  
在多路通信，例如载波电话中，  
一个电话机作为发出信息的信源，  
另一个是接收信息的信宿，  
它们之间的设施就是一条信道。

### 频段、带宽

802.11b和802.11g工作在2.4GHz频段，范围是2.4GHz～2.4835GHz，共83.5M带宽

### 所处层次

处于OSI参考模型的最低两层：物理层和数据链路层。

### 定位

和固定式网络形成互补，而非取而代之的技术。

### 优点

提供移动性  
部署方便

### 缺点

频宽有限  
安全性较弱  
传播受阻







# 台下

### 802.11有不少称谓

1. 无线以太网，强调其与传统有线往来(802.3)之间的血缘关系。
2. Wi-Fi，Wi-Fi是Wi-Fi联盟所推广的互通性认证计划。Wi-Fi联盟的前身称为无线以太网络相容联盟
   （Wireless EthernetCompatibility Alliance，简称 WECA），负责检测会员的产品是否与 802.11
   标准相容。

### 802家族

![IEEE 802 家族，以及其与 OSI 模型的关系](/images/IEEE802家族，以及其与OSI模型的关系.png)

### MAC、PHY

只要是802网络，就必然会同时具备MAC和PHY两种元件。  
MAC是一组用于决定如何访问介质与传送数据的规则，至于传送与接的细节则交由PHY负责。

### 802.2/LLC

说穿了，802.11只不过是一种可以利用802.2/LLC封装的协议。802.3、802.5也可以利用这一层。

### 物理层PHY

跳频展频(FHSS)物理层  
直接序列展频(DSSSS)物理层  
802.11b又加入了高速直接序列展频(HR/DSSS)物理层  
802.11a正交频分复用(OFDM)技术

### PHY的组成元件

以无线波为物理层，还需要比较复杂的PHY。  
802.11将PHY进一步划分为两个组成元件：  
一个是物理层收敛程序(PLCP)，负责将MAC帧对应到传输介质。其牛逼，横跨MAC与物理层，如下图。  
另一是实际搭配介质(PMD)，负责传送这些这些帧。

![PHY元件](/images/PHY元件.png)

### 802.11网络包含四种主要实体元件

![802.11LAN的组成原件](/images/802.11LAN的组成原件.png)

- 工作站(Station)  
      工作站，指配备无线网络的计算机设备。

- 基站(Access Point)，也叫无线接入点  
  具备无线至有线(wireless-to-wired)桥接功能的设备称为基站(Access Point，AP);  
  基站的功能不仅于此，但桥接(bridging)最为重要。  
  目前较新的产品结构为："精简型"基站(thin AP) + 基站控制器(APcontroller)。

- 无线介质(Wireless medium)  
  802.11标准以无线介质(Wireless medium)在工作站与基站之间传递帧。  
  其所定义的物理层不只一种，最初标准化了两种：  
  ​	射频(radio frequency，RF)物理层  
  ​	红外线(infrared)物理层  
  然而事后证明RF物理层较受欢迎。  
  
- 传输系统(Distribution system)  
  多个基站各自覆盖，彼此之间必须相互通信。  
  传输系统是基站间传送帧的骨干网络，通常就称为骨干网络。  
  目前几乎都是以以太网作为骨干网络。

### 身份认证

设备想接入有线网络，必须插入网络插座。  
而无线网络无法提供相同层级的实体保护，因此必须依赖额外的身份认证程序，以保证访问网络的使用者已获得授权。  
身份认证是连接的必要前提，只有经过身份辨识的使用者才准许使用网络。


### MAC 所面临的挑战

#### 射频链路质量

在有线的以太网中，假定对方必然会收到所传送的帧是合理的。无线链路则不然，特别是使用无须授权的ISM频段时。  
窄频(narrowband)传输将会受到噪声与干扰的影响，而不必使用执照的装置也必须假定干扰的存在，必须提供克服干扰的办法。  
和其他链路层协议不同，802.11采用正面回应机制。所有传送出去的帧都必须得到回应，只要任何一个环节失败，该帧即视为已经丢掉。

![2020-04-02-无线网络知识大全-数据传输的正面应答](/images/2020-04-02-无线网络知识大全-数据传输的正面应答.png)

以上步骤称为基本操作，指不可分割的单一处理单元。这样有来必有回也让事情变得比较复杂。在整个通讯过程中，两部工作站必须彼此合作，依次取得网络媒介的控制权，以便进行传输处理。  
802.11允许工作站在基本处理期间锁定媒介，避免基本操作被其他试图竞争传输媒介的工作站打断。  
无线电波的链路品质也会影响网络连接的速度，信号质量较好就可以用较高的速度来传送数据。信号质量通常随着距离的拉长而有所衰减，亦即 802.11 工作站的数据传输速度，取决于他和接入点之间的相对位置。工作站必须具备某种机制，可以判定何时因环境的不变化来调节速率的变换，支持多种速率规则。

#### 隐藏节点的问题

![2020-04-02-无线网络知识大全-隐藏节点](/images/2020-04-02-无线网络知识大全-隐藏节点.png)

节点2可以跟节点1、3通信，但节点1由于某种原因(距离远、有障碍物等)无法跟节点3通信。从1的角度看，3属于隐藏节点。这将导致1和3可能同时传送数据，这会造成2无法辨识任何信息。此外，1和3将无从得知错误发生，因为只有2才知道有冲突发生。  
在无线网络中，碰撞问题很难监听，因为无线接收器通常是半双工工作模式，即无法同时收发数据。  
为了防止碰撞，802.11允许工作站使用请求发送(RTS)和允许发送(CTS)帧来清空传送区域。  
RTS帧本身带有两个目的：预约无线链路的使用权，并要求接收到这一消息的其他工作站停止发言。  
一旦接收到RTS帧，接收段会以CTS帧应答。和RTS帧一样，CTS帧也会令附近的工作站保持沉默。  
整个RTS/CTS传输过程会用到好几个帧，实际开始传输数据之前的延迟也会消耗相当的频宽。因此，它通常只用在高用量的环境，以及传送竞争比较显著的场合。对低用量的环境而言，通常无此必要。  
在小型、不太活跃、只有几个客户端共享一个接入点的网络里，很少会有同时进行传输的情况，何况还有不少闲置频宽可供重传之用。  
随着802.11逐渐成熟，隐藏节点已经不成问题。  
如果802.11网卡的驱动程序支持，使用者可以通过调整RTS门限值来控制RTS/CTS程序。只要大于此门限指，就会进行RTS/CTS交换程序。小于此门限制则会直接传送数据帧。

### MAC帧格式

位的传送顺序由左至右，最高位将会最后出现。

![2020-04-02-无线网络知识大全-MAC帧格式](/images/2020-04-02-无线网络知识大全-MAC帧格式.png)

- Frame Control  
  所有帧的开头均是长度两个元组的Frame Control(帧控制)位。

- Duration/ID 位  
  Duration/ID 位紧跟在 Frame Control 位之后。

- Address 位  
  一个802.11 帧最多包含四个地址位。Address 1 代表接收端，Address 2 代表传送端，Address 3 被接收端拿过来过滤地址。













参考：

[什么叫信道?](https://zhidao.baidu.com/question/13764890.html)